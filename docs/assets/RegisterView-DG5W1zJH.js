const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LayoutLogin-DNz_3XCS.js","assets/index-tNV0pknw.js","assets/index-CppWX1L6.css"])))=>i.map(i=>d[i]);
import{r as e,t}from"./floatlabel-DcAE8RC9.js";import{n,r,t as i}from"./api-DGANuzfT.js";import{B as a,Dt as o,J as s,Lt as c,Ut as l,W as u,X as d,Y as f,a as p,et as m,gt as h,m as g,nt as _,q as v,qt as y,rt as b,t as x,tt as S}from"./index-tNV0pknw.js";import{t as C}from"./LoadingArea-BTzVX2O5.js";var w={for:`username`,class:`form__label form__label--whitMessage`},T={for:`password`,class:`form__label form__label--whitMessage`},E={class:`flex items-center justify-end gap-4`},D=b({__name:`RegisterView`,setup(b){let D=_({loader:()=>x(()=>import(`./LayoutLogin-DNz_3XCS.js`),__vite__mapDeps([0,1,2])),loadingComponent:C}),O=g(),k=a(),A=c({account:``,password:``}),j=v(()=>A.value.password.length<1||A.value.account.length<1),M=c(!1),N=e=>({account:[A.value.account.length<1?`請輸入帳號`:``].join(` `).trim(),password:[A.value.password.length<1?`請輸入密碼`:``].join(` `).trim()})[e],P=c(!1),F=async()=>{if(j.value){M.value=!0;return}else M.value=!1;try{P.value=!0;let e=await i.AUTH.POST_REGISTER(A.value);if(e.data.error){O.add({severity:`error`,summary:`註冊異常`,detail:e.data.message[0],life:3e3}),P.value=!1;return}return P.value=!1,k.push({name:`Index`})}catch(e){let{response:t}=e;O.add({severity:`error`,summary:`註冊異常`,detail:t.data.message[0],life:3e3}),P.value=!1}};return(i,a)=>(h(),f(l(D),null,{form:o(()=>[s(`form`,{class:`wrap--gap flex flex-col`,onSubmit:u(F,[`prevent`])},[S(l(t),{variant:`on`},{default:o(()=>[S(l(e),{id:`username`,fluid:``,autocomplete:`true`,invalid:M.value&&N(`account`).length>0,modelValue:A.value.account,"onUpdate:modelValue":a[0]||=e=>A.value.account=e},null,8,[`invalid`,`modelValue`]),s(`label`,w,[a[3]||=s(`i`,{class:`bi bi-person`},null,-1),a[4]||=s(`span`,null,`帳號`,-1),M.value&&N(`account`).length>0?(h(),f(l(r),{key:0,severity:`error`,variant:`simple`,size:`small`,pt:{text:{class:`!text-[0.625rem]`}}},{default:o(()=>[m(y(N(`account`)),1)]),_:1})):d(``,!0)])]),_:1}),S(l(t),{variant:`on`},{default:o(()=>[S(l(n),{inputId:`password`,fluid:``,feedback:!1,toggleMask:``,inputProps:{autocomplete:`false`},invalid:M.value&&N(`password`).length>0,modelValue:A.value.password,"onUpdate:modelValue":a[1]||=e=>A.value.password=e},null,8,[`invalid`,`modelValue`]),s(`label`,T,[a[5]||=s(`i`,{class:`bi bi-key`},null,-1),a[6]||=s(`span`,null,`密碼`,-1),M.value&&N(`password`).length>0?(h(),f(l(r),{key:0,severity:`error`,variant:`simple`,size:`small`,pt:{text:{class:`!text-[0.625rem]`}}},{default:o(()=>[m(y(N(`password`)),1)]),_:1})):d(``,!0)])]),_:1}),s(`div`,E,[S(l(p),{size:`small`,text:``,severity:`secondary`,pt:{root:{class:`text-xs!`}},label:`返回登入頁`,onClick:a[2]||=e=>l(k).push({name:`Login`})})]),S(l(p),{type:`submit`,label:`送出`,loading:P.value},null,8,[`loading`])],32)]),_:1}))}});export{D as default};