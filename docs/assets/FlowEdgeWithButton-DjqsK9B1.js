import{Dt as e,Et as t,G as n,H as r,Kt as i,Lt as a,Ot as o,Ut as s,X as c,Y as l,Z as u,a as d,gt as f,ot as p,q as m,rt as h,tt as g,xt as _,zt as v}from"./index-Bu07tFg0.js";import{a as y,i as b,s as x,u as S}from"./vue-flow-core-DkZ885o1.js";import{n as C,t as w}from"./dist-Cth39u-W.js";var T=h((e,{slots:t,emit:n})=>{let r=v();return w(r,e=>{n(`trigger`,e)},e.options),()=>{if(t.default)return p(e.as||`div`,{ref:r},t.default())}},{name:`OnClickOutside`,props:[`as`,`options`],emits:[`trigger`]});function E(){let e=!1,n=v(!1);return(r,i)=>{if(n.value=i.value,e)return;e=!0;let a=C(r,i.value);t(n,e=>a.value=e)}}E();var D=h({inheritAttrs:!1,__name:`FlowEdgeWithButton`,props:{id:{},sourceNode:{},targetNode:{},source:{},target:{},type:{},label:{type:[String,Object,Function]},style:{},selected:{type:Boolean},sourcePosition:{},targetPosition:{},sourceHandleId:{},targetHandleId:{},animated:{type:Boolean},updatable:{type:Boolean},markerStart:{},markerEnd:{},curvature:{},interactionWidth:{},data:{},events:{},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{},sourceX:{},sourceY:{},targetX:{},targetY:{}},setup(t){let p=t,{removeEdges:h,onEdgeClick:v}=S(),C=m(()=>x(p)),w=a(!1);return v(e=>{let{edge:t}=e;t.id===p.id&&(w.value=!0)}),(a,p)=>{let m=_(`tooltip`);return f(),u(n,null,[g(s(y),{id:t.id,style:i(t.style),path:C.value[0],"marker-end":t.markerEnd},null,8,[`id`,`style`,`path`,`marker-end`]),g(s(b),null,{default:e(()=>[g(r,{name:`slideDown`,mode:`out-in`},{default:e(()=>[w.value?(f(),l(s(T),{key:0,onTrigger:p[1]||=e=>w.value=!1,style:i({pointerEvents:`all`,position:`absolute`,transform:`translate(-50%, -50%) translate(${C.value[1]}px,${C.value[2]}px)`}),class:`nodrag nopan`},{default:e(()=>[o(g(s(d),{severity:`danger`,rounded:``,size:`small`,icon:`bi bi-x-lg`,pt:{root:{class:`p-0! size-6!`}},onClick:p[0]||=e=>s(h)(t.id)},null,512),[[m,`解除連結`,void 0,{top:!0}]])]),_:1},8,[`style`])):c(``,!0)]),_:1})]),_:1})],64)}}});export{D as default};